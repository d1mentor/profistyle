<% content_for :head do %>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-L86NCNYH3S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L86NCNYH3S');
</script>

    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <title>Contact us in any way</title>
    <meta name="description" content="Contact us in any way convenient for you.">
	<meta property="og:title" content="Contact us in any way">
    <meta property="og:description" content="Contact us in any way convenient for you.">
    <meta property="og:image" content="<%= (asset_path('cropped-icon2.png')) %>">

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "style", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "false", defer: true %>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <%= favicon_link_tag asset_path('cropped-icon2.png') %>
<% end %>

<div class="wrapper">
	<main class="main">
		<div class="breadcrumb">
			<div class="container">
				<div class="breadcrumb__row">
					<div class="breadcrumb__body">
						<a href="/?lang=en">Home</a> &#187; Contact Us
					</div>
				</div>
			</div>
		</div>
		<div class="contact">
			<div class="container">
				<div class="contact__row">
					<div class="contact__label"><h1>CONTACT US</h1></div>
					<div class="contact__block">
						<div class="contact__el">
							<div class="contact__el-pic-1" id="pic">
								<%= image_tag(asset_path('loc-100-aq.png'), alt: "adress") %>
							</div>
							<div class="contact__el-title">ADDRESS</div>
							<div class="contact__el-subtitle">Str. Ludwika Rydygiera 16/1, 50-249, Wroclaw</div>
						</div>
						<div class="contact__el">
							<div class="contact__el-pic-2">
								<%= image_tag(asset_path('en-100-aq.png'), alt: "email") %>
							</div>
							<div class="contact__el-title">EMAIL</div>
							<div class="contact__el-subtitle">biuro@profistyle.group</div>
						</div>
						<div class="contact__el">
							<div class="contact__el-pic-3">
								<%= image_tag(asset_path('tl-100-aq.png'), alt: "phone") %>
							</div>
							<div class="contact__el-title">PHONE</div>
							<div class="contact__el-subtitle">+48795124042</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="map">
			<div class="container">
				<div class="map__row">
					<iframe
						src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2504.4527232934106!2d17.031335115947144!3d51.11855684687939!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470fe9ddeb36c739%3A0x4ec13f63aa25c2e!2zUnlkeWdpZXJhIDE2LCA1MC0yNTAgV3JvY8WCYXcsINCf0L7Qu9GM0YjQsA!5e0!3m2!1sru!2sua!4v1661431326620!5m2!1sru!2sua"
						width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
						referrerpolicy="no-referrer-when-downgrade"></iframe>
				</div>
			</div>
		</div>
		<div class="touch">
				<div class="container">
					<%= form_with url: "/admin_panel/create_message?lang=#{params[:lang]}", class: "touch", :html => { :onsubmit => "submit_form()" }  do |form| %>
						<div class="touch__title"><h2>Write to us</h2></div>
						<div class="touch__subtitle" style="margin-bottom: 20px !important;">Your message is very important for us. We will answer him as soon as possible.</div>
						<div class="touch__subtitle" id="enter_info"><strong>Please fill in all fields.</strong></div>
						<div class="touch__body">
							<div class="touch__rank">
								<div class="touch__el">
									<label for="" class="touch__label">Your name</label>
									<%= form.text_field :name, class: "touch__input", id: "name" %>
								</div>
								<div class="touch__el">
									<label for="" class="touch__label">Your email</label>
									<%= form.text_field :email, class: "touch__input", id: "email", type: "email" %>
								</div>
								<div class="touch__el">
									<label for="" class="touch__label">Subject</label>								
									<%= form.text_field :subject, class: "touch__input", id: "subject" %>
								</div>
							</div>
							<div class="touch__el-textarea">
								<label for="" class="touch__label">Message</label>
								<%= form.text_area :message, class: "touch__el-textarea", rows: 25, id: "text" %>
							</div>
							<div class="touch__subtitle not-show" id="send_info"><strong>Your message has been sent. We will contact you shortly.</strong></div>
							<%= form.submit "Send", class: "touch__btn", id: "send_btn" %>
						</div>
					<% end %>
  					</div>
				</div>
		</div>
	</main>

	<style>
			.not-show{
				display: none;
			}

			.success-btn{
				background-color: #198754;
			}
		</style>

		<script>
			const formInput1 = document.getElementById("name");
			const formInput2 = document.getElementById("email");
			const formInput3 = document.getElementById("subject");
			const formInput4 = document.getElementById("text");
			const formButton = document.getElementById("send_btn");
			const sendInfo = document.getElementById("send_info");

			const validateEmail = (email) => {
  			return email.match(
   			  /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
 			);
			};	

			function submit_form(){
				formButton.classList.add("not-show");
				sendInfo.classList.remove("not-show");
			}

			// the default state is 'disabled'
			formButton.disabled = true; 

			// alternative is to use "change" - explained below
			formInput1.addEventListener("keyup", buttonState);
			formInput2.addEventListener("keyup", buttonState);
			formInput3.addEventListener("keyup", buttonState);
			formInput4.addEventListener("keyup", buttonState);

			function buttonState() {
    			if (document.getElementById("name").value === "" || !validateEmail(document.getElementById("email").value) || document.getElementById("subject").value === "" || document.getElementById("text").value === "") {
        			formButton.disabled = true; // return disabled as true whenever the input field is empty
					formButton.classList.remove("success-btn");
    			} else {
        			formButton.disabled = false; // enable the button once the input field has content
					formButton.classList.add("success-btn");
    			}
			}
		</script>

	<script>
		var strGET = window.location.search.replace('?', '');

		if (strGET != "") {
			if (window.location.href.indexOf('&reloaded') === -1) window.location.href = window.location.href + "&reloaded=true";
		};
	</script>